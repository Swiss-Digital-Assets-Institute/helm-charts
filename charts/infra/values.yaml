# --nameOverride allows partial override of the name
nameOverride: {}

# --fullnameOverride allows full override of the name
fullnameOverride: {}

commonLabels:
  team: ""
  project: ""

# Global settings used by some templates (e.g., ExternalSecrets, SES)
global:
  # Environment name used in some computed values
  env: ""
  # Organization name used in some computed values
  org: ""
  cluster:
    # Cluster name used in secret paths
    name: ""
  network:
    # Base DNS domain used to compute SES identity
    domain: ""

aws:
  enabled: true
  providerConfigRef:
    name: crossplane-service-user
  account: ""
  region: "eu-central-2"
  eksOidcId: ""
  irsa:
    serviceAccountNameOverride: ""
  iam:
    roleNameOverride: ""

  s3:
    enabled: false
    bucketNameOverride: ""
    objectOwnership: "BucketOwnerEnforced"
    lifeCycleConfiguration:
      enabled: false
      rules: []
    versioning:
      enabled: false
    corsConfiguration:
      enabled: false
      corsRules: []
    bucketWebsiteConfiguration:
      enabled: false
      errorDocument:
        key: error.html
      indexDocument:
        suffix: index.html
      routingRules: []
    bucketPublicAccessBlock:
      enabled: false
      blockPublicAcls: false
      blockPublicPolicy: false
      ignorePublicAcls: false
      restrictPublicBuckets: false

    additional_tags: {}

  kms:
    enabled: false
    keyNameOverride: ""
    deletionWindowInDays: 365
    rotateKey: false
    additional_tags: {}
    alias:
      enabled: false

  ecr:
    enabled: false
    # repoNames: a list of repository name suffixes. When provided,
    # the chart will create one repo per name with format <namespace>/<name>.
    # If empty or not set, falls back to default <namespace>/<releaseName>.
    repoNames: []
    imageTagMutability: "MUTABLE"
    additionalAnnotations: {}
    scanOnPush: true
    accountAccessList: []
    additional_tags: {}
    lifecyclePolicy:
      rules:
        - rulePriority: 1
          description: "Expire images older than 14 days"
          selection:
            tagStatus: "untagged"
            countType: "sinceImagePushed"
            countUnit: "days"
            countNumber: 14
          action:
            type: "expire"
        - rulePriority: 2
          description: "Expire dev* images older than 365 days"
          selection:
            tagStatus: "tagged"
            tagPatternList:
              - "dev*"
            countType: "sinceImagePushed"
            countUnit: "days"
            countNumber: 365
          action:
            type: "expire"

  rds:
    enabled: false
    instanceNameOverride: ""
    namespace: ""
    dbNameOverride: ""
    instanceClass: db.t3.micro
    engine: postgres
    engineVersion: "15.12"
    multiAz: false
    allocatedStorage: 20
    storageEncrypted: true
    dbSubnetGroupName: ""
    storage:
      type: gp3
      provisionedIops: 3000
      enableAutoscaling: false
      maxAllocatedStorage: 500
      enableDedicatedLogVolume: false
    backup:
      enabled: false
      backupRetentionPeriod: 30
      copyTagsToSnapshot: true
      replication:
        enabled: false
        destinationRegion: ""
        kmsKeyId: ""
    ha:
      enabled: false
    monitoring:
      enableInsights: false
      insightsMode: "standard"
      enablePerformanceInsights: false
      performanceInsightsRetentionPeriod: 30
      performanceInsightsKmsKeyId: ""
    security:
      enableDeletionProtection: true
    masterUserName: "postgres"
    passwordSecretRef:
      name: ""
      key: "password"
      namespace: ""
    preferredBackupWindow: "03:00-05:00"
    additional_tags: {}

  cdn:
    enabled: false
    distributionNameOverride: ""
    additional_tags: {}
    domainName: ""
    bucketName: ""
    bucketPolicy:
      version: "2012-10-17"
    s3:
      corsPolicy:
        allowedHeaders:
          - "*"
        allowedMethods:
          - GET
          - HEAD
        allowedOrigins:
          - "*"
        maxAgeSeconds: 3600
    cloudFront:
      enabled: false
      originAccessIdentity: false
      defaultRootObject: ""
      viewerProtocolPolicy: "redirect-to-https"
      priceClass: "PriceClass_All"
      comment: ""
      httpVersion: "http2"
      isIPV6Enabled: true
      defaultCacheBehavior:
        allowedMethods:
          - GET
          - HEAD
        cachedMethods:
          - GET
          - HEAD
        targetOriginId: "S3Origin"
        viewerProtocolPolicy: "redirect-to-https"
        compress: true
        minTtl: 0
        defaultTtl: 86400
        maxTtl: 31536000

  ses:
    enabled: false
    identityNameOverride: ""
    domainNameOverride: ""
    dkim:
      enabled: true
      keyLength: RSA_1024_BIT
    mailFromBehavior: UseDefaultMailFrom
    additional_tags: {}

  sqs:
    enabled: false
    fifo: false
    queueNameOverride: ""
    contentBasedDeduplication: true
    delaySeconds: 0
    visibilityTimeoutSeconds: 60
    messageRetentionSeconds: 1209600 # 14 days

  sns:
    enabled: false

  cognito:
    userpool:
      enabled: false
      signInIdentifiers: []
      enableSelfRegistration: false
      requiredAttributes: []
      callbackUrls: []
      logoutUrls: []
      authentication:
        email:
          enabled: false
          provider: COGNITO_DEFAULT
          sesRegion: eu-central-2
          fromEmailAddress: ""
          fromSenderName: ""
          replyToEmailAddress: ""
          sesConfigurationSet: ""
        phoneNumber:
          enabled: false
          snsRegion: eu-central-2
          fromPhoneNumber: ""
      groups: []
      passwordPolicy:
        minimumLength: 12
        requireLowercase: true
        requireUppercase: true
        requireNumbers: true
        requireSymbols: true
        temporaryPasswordValidityDays: 7
      mfaConfiguration: "OFF"

externalSecrets:
  enabled: false
  nameOverride: ""
  refreshInterval: "30s"
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault-backend
  target:
    creationPolicy: Owner
  secrets: []
