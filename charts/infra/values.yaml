# --nameOverride allows partial override of the name
nameOverride: {}

# --fullnameOverride allows full override of the name
fullnameOverride: {}

commonLabels:
  team: ""
  project: ""

# Global settings used by some templates (e.g., ExternalSecrets, SES)
global:
  # Environment name used in some computed values
  env: ""
  # Organization name used in some computed values
  org: ""
  cluster:
    # Cluster name used in secret paths
    name: ""
  network:
    # Base DNS domain used to compute SES identity
    domain: ""

aws:
  enabled: true
  providerConfigRef:
    name: crossplane-service-user
  account: ""
  region: "eu-central-2"
  eksOidcId: ""
  irsa:
    serviceAccountNameOverride: ""
  iam:
    roleNameOverride: ""

  s3:
    enabled: false
    bucketNameOverride: ""
    objectOwnership: "BucketOwnerEnforced"
    lifeCycleConfiguration:
      enabled: false
      rules: []
    versioning:
      enabled: false
    corsConfiguration:
      enabled: false
      corsRules: []
    bucketWebsiteConfiguration:
      enabled: false
      errorDocument:
        key: error.html
      indexDocument:
        suffix: index.html
      routingRules: []
    bucketPublicAccessBlock:
      enabled: false
      blockPublicAcls: false
      blockPublicPolicy: false
      ignorePublicAcls: false
      restrictPublicBuckets: false

    additional_tags: {}

  kms:
    enabled: false
    keyNameOverride: ""
    signingEnabled: false
    deletionWindowInDays: 365
    rotateKey: false
    additional_tags: {}
    alias:
      enabled: false

  ecr:
    enabled: false
    # repoNames: a list of repository name suffixes. When provided,
    # the chart will create one repo per name with format <namespace>/<name>.
    # If empty or not set, falls back to default <namespace>/<releaseName>.
    repoNames: []
    imageTagMutability: "MUTABLE"
    additionalAnnotations: {}
    scanOnPush: true
    accountAccessList: []
    additional_tags: {}
    lifecyclePolicy:
      rules:
        - rulePriority: 1
          description: "Expire images older than 14 days"
          selection:
            tagStatus: "untagged"
            countType: "sinceImagePushed"
            countUnit: "days"
            countNumber: 14
          action:
            type: "expire"
        - rulePriority: 2
          description: "Expire dev* images older than 365 days"
          selection:
            tagStatus: "tagged"
            tagPatternList:
              - "dev*"
            countType: "sinceImagePushed"
            countUnit: "days"
            countNumber: 365
          action:
            type: "expire"

  rds:
    enabled: false
    instanceNameOverride: ""
    namespace: ""
    dbNameOverride: ""
    instanceClass: db.t3.micro
    engine: postgres
    engineVersion: "15.12"
    multiAz: false
    allocatedStorage: 20
    storageEncrypted: true
    dbSubnetGroupName: ""
    storage:
      type: gp3
      provisionedIops: 3000
      enableAutoscaling: false
      maxAllocatedStorage: 500
      enableDedicatedLogVolume: false
    backup:
      enabled: false
      backupRetentionPeriod: 30
      copyTagsToSnapshot: true
      replication:
        enabled: false
        destinationRegion: ""
        kmsKeyId: ""
    ha:
      enabled: false
    monitoring:
      enableInsights: false
      insightsMode: "standard"
      enablePerformanceInsights: false
      performanceInsightsRetentionPeriod: 30
      performanceInsightsKmsKeyId: ""
    security:
      enableDeletionProtection: true
    masterUserName: "postgres"
    passwordSecretRef:
      name: ""
      key: "password"
      namespace: ""
    preferredBackupWindow: "03:00-05:00"
    additional_tags: {}

  cdn:
    enabled: false
    distributionNameOverride: ""
    additional_tags: {}
    domainName: ""
    bucketName: ""
    bucketPolicy:
      version: "2012-10-17"
    s3:
      corsPolicy:
        allowedHeaders:
          - "*"
        allowedMethods:
          - GET
          - HEAD
        allowedOrigins:
          - "*"
        maxAgeSeconds: 3600
    cloudFront:
      enabled: false
      originAccessIdentity: false
      defaultRootObject: ""
      viewerProtocolPolicy: "redirect-to-https"
      priceClass: "PriceClass_All"
      comment: ""
      httpVersion: "http2"
      isIPV6Enabled: true
      defaultCacheBehavior:
        allowedMethods:
          - GET
          - HEAD
        cachedMethods:
          - GET
          - HEAD
        targetOriginId: "S3Origin"
        viewerProtocolPolicy: "redirect-to-https"
        compress: true
        minTtl: 0
        defaultTtl: 86400
        maxTtl: 31536000

  ses:
    enabled: false
    identityNameOverride: ""
    domainNameOverride: ""
    dkim:
      enabled: true
      keyLength: RSA_1024_BIT
    mailFromBehavior: UseDefaultMailFrom
    additional_tags: {}

  sqs:
    enabled: false
    fifo: false
    queueNameOverride: ""
    contentBasedDeduplication: true
    delaySeconds: 0
    visibilityTimeoutSeconds: 60
    messageRetentionSeconds: 1209600 # 14 days

  sns:
    enabled: false
    sms:
      enabled: false
      defaultSMSType: Transactional
      defaultSenderID: MTGATEWAY
      monthlySpendLimit: 50

  cognito:
    userpool:
      enabled: false
      signInIdentifiers: []
      enableSelfRegistration: false
      requiredAttributes: []
      callbackUrls: []
      logoutUrls: []
      authentication:
        email:
          enabled: false
          provider: COGNITO_DEFAULT
          sesRegion: eu-central-2
          fromEmailAddress: ""
          fromSenderName: ""
          replyToEmailAddress: ""
          sesConfigurationSet: ""
        phoneNumber:
          enabled: false
          snsRegion: eu-central-2
          fromPhoneNumber: ""
      groups: []
      passwordPolicy:
        minimumLength: 12
        requireLowercase: true
        requireUppercase: true
        requireNumbers: true
        requireSymbols: true
        temporaryPasswordValidityDays: 7
      mfaConfiguration: "OFF"
      extensions:
        enabled: false
        triggers: []
        lambdaFunction:
          name: ""
          arn: ""
      tags: {}

  dynamodb:
    enabled: false
    additional_tags: {}
    tables: []
    # Example table configuration:
    # - name: users-table
    #   nameOverride: ""  # Optional: override the full table name
    #   deletionPolicy: Delete  # Crossplane deletion policy (default: Delete)
    #
    #   # ===== KEYS & ATTRIBUTES =====
    #   attribute:
    #     - name: UserId
    #       type: S
    #     - name: GameTitle
    #       type: S
    #     - name: TopScore
    #       type: "N"
    #   hashKey: UserId
    #   rangeKey: GameTitle
    #
    #   # ===== BILLING MODE =====
    #   billingMode: PAY_PER_REQUEST  # PROVISIONED or PAY_PER_REQUEST (default: PAY_PER_REQUEST)
    #
    #   # ===== PROVISIONED THROUGHPUT =====
    #   # Only required if billingMode is PROVISIONED
    #   readCapacity: 20
    #   writeCapacity: 20
    #
    #   # ===== ON-DEMAND THROUGHPUT =====
    #   # Only for PAY_PER_REQUEST billing mode
    #   onDemandThroughput:
    #     maxReadRequestUnits: 1000
    #     maxWriteRequestUnits: 500
    #
    #   # ===== GLOBAL SECONDARY INDEXES =====
    #   globalSecondaryIndex:
    #     enabled: false  # (default: false)
    #     indexes:
    #       - name: GameTitleIndex
    #         hashKey: GameTitle
    #         rangeKey: TopScore
    #         projectionType: INCLUDE  # KEYS_ONLY, INCLUDE, ALL
    #         nonKeyAttributes:
    #           - UserId
    #         # For PROVISIONED billing mode:
    #         readCapacity: 10
    #         writeCapacity: 10
    #         # For PAY_PER_REQUEST billing mode:
    #         onDemandThroughput:
    #           maxReadRequestUnits: 500  # (default: 500)
    #           maxWriteRequestUnits: 200  # (default: 200)
    #
    #   # ===== LOCAL SECONDARY INDEXES =====
    #   # Note: Only allowed at table creation time
    #   localSecondaryIndex:
    #     enabled: false  # (default: false)
    #     indexes:
    #       - name: GameScoreIndex
    #         rangeKey: TopScore
    #         projectionType: KEYS_ONLY  # KEYS_ONLY, INCLUDE, ALL
    #         nonKeyAttributes: []
    #
    #   # ===== DELETION PROTECTION =====
    #   deletionProtectionEnabled: true  # (default: true)
    #
    #   # ===== TABLE CLASS =====
    #   tableClass: STANDARD  # STANDARD or STANDARD_INFREQUENT_ACCESS (default: STANDARD)
    #
    #   # ===== SERVER-SIDE ENCRYPTION =====
    #   serverSideEncryption:
    #     enabled: false  # (default: false)
    #     kmsKeyArn: "arn:aws:kms:eu-central-2:123456789012:key/xxxx"  # Optional
    #
    #   # ===== DYNAMODB STREAMS =====
    #   # Using streamSpecification (newer format):
    #   streamSpecification:
    #     enabled: false  # (default: false)
    #     streamViewType: NEW_AND_OLD_IMAGES  # KEYS_ONLY, NEW_IMAGE, OLD_IMAGE, NEW_AND_OLD_IMAGES (default: NEW_AND_OLD_IMAGES)
    #
    #   # ===== TIME-TO-LIVE SPECIFICATION =====
    #   timeToLiveSpecification:
    #     enabled: false  # (default: false)
    #     attributeName: TimeToExist
    #
    #   # ===== POINT-IN-TIME RECOVERY =====
    #   pointInTimeRecovery:
    #     enabled: false  # (default: false)
    #
    #   # ===== GLOBAL TABLE REPLICAS =====
    #   replica:
    #     enabled: false  # (default: false)
    #     regions:
    #       - regionName: us-east-1
    #         propagateTags: true
    #         pointInTimeRecovery: true
    #         kmsKeyArn: "arn:aws:kms:us-east-1:123456789012:key/xxxx"  # Optional
    #
    #   # ===== RESTORE OPTIONS =====
    #   restoreOptions:
    #     enabled: false  # (default: false)
    #     useLatestRestorableTime: false
    #     restoreDateTime: "2025-01-20T12:00:00Z"  # ISO 8601 format
    #     sourceTableArn: "arn:aws:dynamodb:eu-central-2:123456789012:table/old-table"
    #
    #   # ===== IMPORT FROM S3 =====
    #   importTable:
    #     enabled: false  # (default: false)
    #     inputFormat: DYNAMODB_JSON  # DYNAMODB_JSON or ION
    #     inputCompressionType: GZIP  # GZIP or NONE
    #     inputFormatOptions:
    #       csv:
    #         delimiter: ","
    #         headerList:
    #           - id
    #           - sk
    #           - gsi_pk
    #     s3BucketSource:
    #       bucket: my-import-bucket
    #       bucketOwner: "123456789012"  # Optional
    #       keyPrefix: dynamodb/imports/
    #     tableCreationParameters:
    #       # Same schema as the main table (attribute, hashKey, rangeKey, etc.)
    #       attribute:
    #         - name: id
    #           type: S
    #       hashKey: id
    #       billingMode: PAY_PER_REQUEST

externalSecrets:
  enabled: false
  nameOverride: ""
  refreshInterval: "30s"
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault-backend
  target:
    creationPolicy: Owner
  secrets: []
